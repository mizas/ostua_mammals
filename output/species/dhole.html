<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mosaico de imágenes</title>
<style>
:root{--gap:8px}
body{font-family:system-ui, -apple-system, "Segoe UI", Roboto, Arial; margin:12px; background:#f7f7f7; color:#111}
.container{max-width:1200px;margin:0 auto}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:var(--gap)}
.card{position:relative;overflow:hidden;border-radius:6px;height:0;padding-bottom:75%;background:#ddd;box-shadow:0 1px 4px rgba(0,0,0,0.06)}
.card img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;display:block;transition:transform .35s ease}
.card:hover img{transform:scale(1.06)}
.caption{position:absolute;left:6px;right:6px;bottom:6px;font-size:12px;background:rgba(0,0,0,0.45);color:#fff;padding:4px 6px;border-radius:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.lightbox-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.85);display:flex;align-items:center;justify-content:center;z-index:9999;padding:20px;visibility:hidden;opacity:0;transition:opacity .2s}
.lightbox-overlay.visible{visibility:visible;opacity:1}
.lightbox-content{max-width:100%;max-height:100%;text-align:center}
.lightbox-content img{max-width:100%;max-height:80vh;box-shadow:0 8px 30px rgba(0,0,0,0.6)}
.lightbox-caption{color:#fff;margin-top:10px;font-size:14px}
.lightbox-close{position:absolute;top:12px;right:18px;color:#fff;font-size:28px;cursor:pointer}
@media (max-width:420px){.caption{font-size:10px}}
</style>
</head>
<body>
<div class="container">
<h1>Mosaico de imágenes</h1>
<div class="grid">

<a class="card" href="/media/cunzac/bioinformatica/users/mbarrios/proyectos/calmecac/ostua2025/camaras/input/semana32/camera16/IMG_0054.JPG" data-lightbox data-caption="IMG_0054.JPG">
  <img src="/media/cunzac/bioinformatica/users/mbarrios/proyectos/calmecac/ostua2025/camaras/input/semana32/camera16/IMG_0054.JPG" loading="lazy" alt="IMG_0054.JPG">
  <div class="caption">IMG_0054.JPG</div>
</a>

</div> <!-- .grid -->
</div> <!-- .container -->

<div id="lightbox" class="lightbox-overlay" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="lightbox-close" id="lightbox-close" aria-label="Cerrar">&times;</div>
  <div class="lightbox-content">
    <img id="lightbox-img" src="" alt="">
    <div class="lightbox-caption" id="lightbox-caption"></div>
  </div>
</div>


<script>
(function(){
  const overlay = document.getElementById('lightbox');
  const img = document.getElementById('lightbox-img');
  const caption = document.getElementById('lightbox-caption');
  const closeBtn = document.getElementById('lightbox-close');

  function show(src, text){
    img.src = src;
    img.alt = text || '';
    caption.textContent = text || '';
    overlay.classList.add('visible');
    overlay.focus();
  }
  function hide(){
    overlay.classList.remove('visible');
    setTimeout(()=>{ img.src = ''; }, 200);
  }

  document.addEventListener('click', function(e){
    const t = e.target.closest('[data-lightbox]');
    if(t){
      e.preventDefault();
      show(t.getAttribute('href'), t.getAttribute('data-caption'));
    }
  }, false);

  overlay.addEventListener('click', function(e){
    if(e.target === overlay || e.target === closeBtn) hide();
  });

  document.addEventListener('keydown', function(e){
    if(e.key === 'Escape') hide();
  });
})();
</script>

</body>
</html>
